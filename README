	
	<script type="text/javascript">
	  (function() {
	    var Draw = false;
		
	    var marginX = $("#canvas").offset().left;
		var marginY = $("#canvas").offset().top;
		console.log(marginX+":"+marginY)		
				
		$("#canvas").attr("width", "800");
	   	$("#canvas").attr("height", "600");		
		var context = $("#canvas")[0].getContext('2d');	
	    $(window).load(function () {
	        console.log('window_load');
	    });
	    $("#canvas").mousemove(function(event){
			console.log('canvas_mousemove');			
			endX = event.pageX;
			endY = event.pageY;
			if(Draw){
				context.beginPath();
				context.moveTo(startX-marginX, startY-marginY);
				context.lineTo(endX-marginX, endY-marginY);
				context.stroke();
				context.save();
			}
			startX = endX;
			startY = endY; 
	    });
	    $("#canvas").mousedown(function(){
	        console.log('canvas_mousedown');
	      	Draw=true;
	    });
	    $("#canvas").mouseup(function(){
	      	console.log('canvas_mouseup');
	      	Draw=false;
	    });
	    $("#dummy").click(function(){
	        console.log('dummy_click');
	    });		
	  })()
	</script>
